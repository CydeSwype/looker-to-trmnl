{
  "name": "Looker to TRMNL Pipeline",
  "description": "Monitors Gmail for Looker reports and sends to TRMNL e-ink display",
  "steps": [
    {
      "id": "gmail_trigger",
      "type": "trigger",
      "app": "gmail",
      "event": "new_email",
      "config": {
        "label": "INBOX",
        "query": "from:looker@yourdomain.com",
        "polling_interval": 300
      }
    },
    {
      "id": "parse_email",
      "type": "code",
      "language": "javascript",
      "file": "parse-email.js"
    },
    {
      "id": "transform_data",
      "type": "code",
      "language": "javascript",
      "file": "transform-data.js"
    },
    {
      "id": "send_to_trmnl",
      "type": "http",
      "method": "POST",
      "url": "YOUR_TRMNL_WEBHOOK_URL",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": "{{steps.transform_data.$return_value}}"
    }
  ],
  "notes": [
    "Replace 'from:looker@yourdomain.com' with your actual Looker sender email",
    "Replace 'YOUR_TRMNL_WEBHOOK_URL' with your TRMNL plugin webhook URL",
    "Adjust polling_interval (in seconds) based on your needs",
    "Add authentication headers if your TRMNL plugin requires them"
  ]
}
